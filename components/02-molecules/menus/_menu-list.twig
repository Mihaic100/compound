{% set ul_base_class = menu_base_class %}
{% set ul_modifiers = menu_modifiers %}
{% set ul_blockname = menu_blockname %}

{% set item_blockname = menu_blockname %}
{% set item_base_class = 'item' %}

{# List #}
{% extends "@atoms/lists/ul.twig" %}
{% block list_content %}
  {% for item in items %}
    {% include "@molecules/menus/_menu-item.twig" with {
      li_base_class: item_base_class,
      li_modifiers: item_modifiers,
      li_blockname: item_blockname,
      mobile_nav: mobile_nav,
    } %}
  {% endfor %}
  {% if menu_level == 1 and mobile_nav == true %}
    {# TODO: include a list item component instead of li markup. #}
    {# issue with twig.js breaking if certain amount of includes are nested. #}
      <li {{ bem(item_base_class, ['back-button'], item_blockname) }}> {% include "@atoms/buttons/button.twig" with {
        button_content : 'Back',
        button_modifiers : ['clean'],
      } %}
    </li>
  {% endif %}
{% endblock %}
